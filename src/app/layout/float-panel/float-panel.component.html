<div class="dsh-float-panel" [ngStyle]="{ 'min-height': baseContentHeight + 40 + 'px' }">
    <dsh-card
        class="dsh-float-panel-card"
        [ngClass]="{
            'dsh-float-panel-card-unpinned': !expanded || !pinned
        }"
        (dshResized)="cardHeight = $event.height"
    >
        <div (dshResized)="setBaseContentHeight($event.height)">
            <div fxLayout fxLayout.lt-md="column" [fxLayoutGap]="layoutGap">
                <div fxFlex.gt-sm>
                    <ng-content></ng-content>
                </div>
                <div *ngIf="!expanded" class="dsh-float-panel-actions" fxLayout fxLayoutAlign="center center">
                    <button dsh-icon-button (click)="expandToggle()" fxHide.lt-md>
                        <mat-icon>expand_more</mat-icon>
                    </button>
                    <button *transloco="let t" dsh-button (click)="expandToggle()" fxFlex fxHide.gt-sm>
                        {{ t.showMore }}
                    </button>
                </div>
            </div>
        </div>
        <div class="dsh-float-panel-more" [@expand]="expandTrigger" *ngIf="expanded">
            <div (dshResized)="setMoreContentHeight($event.height)">
                <div fxLayout="column" [fxLayoutGap]="layoutGap">
                    <div class="dsh-float-panel-more-content">
                        <ng-container *ngTemplateOutlet="floatPanelMore?.templateRef"></ng-container>
                    </div>
                    <div fxLayout [fxLayoutGap]="layoutGap" fxLayoutAlign="space-between">
                        <button dsh-icon-button (click)="pinToggle()">
                            <mat-icon svgIcon="place_outline"></mat-icon>
                        </button>
                        <div>
                            <ng-container *ngTemplateOutlet="floatPanelActions?.templateRef"></ng-container>
                        </div>
                        <button dsh-icon-button (click)="expandToggle()">
                            <mat-icon>expand_less</mat-icon>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </dsh-card>
</div>
