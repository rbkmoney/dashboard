<dsh-card *transloco="let t; scope: 'payment-details'; read: 'paymentDetails.invoiceDetails'">
    <div *ngIf="!(invoice$ | async)" fxLayout fxLayoutAlign="center center">
        <dsh-spinner></dsh-spinner>
    </div>
    <ng-container *ngIf="invoice$ | async as invoice">
        <dsh-card-title>
            <div class="mat-title" fxLayout fxLayoutGap="10px" fxLayoutAlign="start center">
                <div>
                    {{ t('title') }}
                    <span dshSecondaryTitle>#{{ invoice?.id }}</span>
                </div>
                <mat-icon class="dsh-forward-icon" (click)="goToInvoiceDetails(invoice)">arrow_forward</mat-icon>
            </div>
        </dsh-card-title>
        <dsh-card-content fxLayout="column" [fxLayoutGap]="layoutGap">
            <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="0" [fxLayoutGap.xs]="layoutGap">
                <ng-container *transloco="let c">
                    <dsh-details-status-item
                        *ngIf="getStatusViewInfo(invoice.status) as statusInfo"
                        [color]="statusInfo.color"
                        [text]="c('invoiceStatus.' + statusInfo.text)"
                        fxFlex="33"
                    ></dsh-details-status-item>
                </ng-container>
                <dsh-details-item [title]="t('amount')" fxFlex="33">
                    {{ invoice?.amount | toMajor | currency: invoice?.currency }}
                </dsh-details-item>
            </div>
            <dsh-details-item [title]="t('product')">
                {{ invoice?.product }}
            </dsh-details-item>
            <div
                fxLayout="row"
                fxLayout.xs="column"
                fxLayoutGap="0"
                [fxLayoutGap.xs]="layoutGap"
                *ngIf="invoice.description"
            >
                <dsh-details-item [title]="t('description')" fxFlex="100">
                    <div class="mat-body-1">
                        {{ invoice.description }}
                    </div>
                </dsh-details-item>
            </div>
        </dsh-card-content>
    </ng-container>
</dsh-card>
