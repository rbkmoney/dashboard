<dsh-card
    fxLayout="column"
    *transloco="let t; scope: 'payment-details'; read: 'paymentDetails.refunds'"
    [fxLayoutGap]="layoutGap"
>
    <dsh-card-title>
        <div fxLayout fxLayout.xs="column" fxLayoutAlign="space-between stretch" fxLayoutGap="0" fxLayoutGap.xs="10px">
            <div fxFlex.xs fxFlex="none" class="dsh-payment-details-refunds-title">
                {{ t.title }}
            </div>
            <button
                fxFlex.xs="100"
                fxFlex="none"
                [disabled]="!refundAvailable()"
                dsh-stroked-button
                color="accent"
                (click)="createRefund()"
            >
                {{ t.createRefund.title }}
            </button>
        </div>
    </dsh-card-title>
    <dsh-card-content fxLayout="column" *ngIf="refunds$ | async">
        <ng-container *ngFor="let refund of refunds$ | async">
            <dsh-refund-item [refund]="refund"></dsh-refund-item>
            <div class="dsh-payment-details-refunds-divider"></div>
        </ng-container>
        <div *ngIf="(refunds$ | async).length === 0">
            {{ t.noRefunds }}
        </div>
        <button
            *ngIf="hasMoreRefunds$ | async"
            class="dsh-payment-details-refunds-show-more-refunds"
            dsh-button
            (click)="fetchMore()"
        >
            <ng-container *transloco="let c">
                {{ c('showMore') }}
            </ng-container>
        </button>
    </dsh-card-content>
</dsh-card>
