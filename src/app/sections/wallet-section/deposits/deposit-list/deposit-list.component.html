<dsh-expand-panel-accordion
    fxLayout="column"
    fxLayoutGap="20px"
    (expandedChange)="select($event)"
    [expanded]="selectedId$ | async"
>
    <dsh-expand-panel *ngFor="let deposit of deposits">
        <div fxLayout fxLayoutAlign="space-between" fxLayoutGap="10px">
            <div fxLayout="column" fxLayoutGap="10px">
                <div class="mat-body-1">{{ (getWallet(deposit.wallet) | async)?.name }}</div>
                <div class="mat-caption">
                    {{ deposit.createdAt | date: 'dd MMMM yyyy, HH:mm' }}
                </div>
            </div>
            <div fxLayout="column" fxLayoutAlign="center end" fxLayoutGap="10px">
                <div class="mat-body-2">
                    {{ deposit.body.amount | toMajor | currency: deposit.body.currency }}
                </div>
                <div *transloco="let status; read: 'depositStatus'" class="mat-caption">
                    {{ status[deposit.status] }}
                </div>
            </div>
        </div>
        <dsh-expand-panel-more>
            <dsh-expand-panel-more-header>
                <div *transloco="let t; scope: 'deposits'; read: 'deposits'" class="mat-caption" fxFlex>
                    {{ t.deposit }} #{{ deposit.id }}
                </div>
            </dsh-expand-panel-more-header>

            <div
                *transloco="let t; scope: 'deposits'; read: 'deposits'"
                class="container"
                fxLayout="column"
                fxLayoutGap="20px"
            >
                <div class="mat-headline">{{ deposit.body.amount | toMajor | currency: deposit.body.currency }}</div>
                <dsh-details-item fxFlex [title]="t.walletName">
                    <div class="mat-body-1">
                        <span *ngIf="getWallet(deposit.wallet) | async as wallet; else noWallet">{{
                            wallet.name
                        }}</span>
                        <ng-template #noWallet>.</ng-template>
                    </div>
                </dsh-details-item>
                <dsh-deposit-info [deposit]="deposit"></dsh-deposit-info>
            </div>
        </dsh-expand-panel-more>
    </dsh-expand-panel>
</dsh-expand-panel-accordion>
