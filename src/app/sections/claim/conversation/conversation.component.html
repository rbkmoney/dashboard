<div *transloco="let t; scope: 'claim'; read: 'claim.conversation'" fxLayout="column" fxLayoutGap="20px">
    <dsh-timeline>
        <dsh-timeline-item>
            <dsh-timeline-item-title>
                <span>{{ t.timeline.claimCreated }}&nbsp;</span>
                <span *transloco="let root"
                    >{{ claimCreatedAt$ | async | humanizedDuration: { largest: 1 } }} {{ root.ago }}</span
                >
            </dsh-timeline-item-title>
            <dsh-timeline-item-badge>
                <mat-icon svgIcon="create"></mat-icon>
            </dsh-timeline-item-badge>
        </dsh-timeline-item>
        <dsh-timeline-item *ngFor="let item of timelineInfo$ | async">
            <dsh-timeline-item-title>
                <b>{{ t.timeline.userInfo[item.userInfo.userType] }}</b>
                {{ t.timeline.action[item.action] }}
                <span *transloco="let root"
                    >{{ item.createdAt | humanizedDuration: { largest: 1 } }} {{ root.ago }}</span
                >
            </dsh-timeline-item-title>
            <dsh-timeline-item-badge [color]="item.action | actionColor">
                <mat-icon [svgIcon]="item.action | actionIcon"></mat-icon>
            </dsh-timeline-item-badge>
            <dsh-timeline-item-content *ngIf="item.modifications.length !== 0">
                <div *ngFor="let modification of item.modifications">
                    {{ modification.modificationType }}
                </div>
            </dsh-timeline-item-content>
        </dsh-timeline-item>
    </dsh-timeline>
    <div fxLayout="column">
        <mat-form-field>
            <textarea matInput [placeholder]="t.leaveTheComment"></textarea>
        </mat-form-field>
        <div>
            <div fxLayout="row" fxLayoutGap="10px" style="float: left">
                <button dsh-button color="primary" (click)="downloadDocument()">Скачать анкету</button>
                <button dsh-button color="accent" (click)="downloadBeneficialOwnerDocument()">
                    Скачать анкету бенефициарного владельца
                </button>
            </div>
            <button dsh-button class="action">
                {{ t.toLeaveTheComment }}
            </button>
        </div>
    </div>
</div>
