<div class="container" fxLayout="column" *transloco="let t; scope: 'onboarding'; read: 'onboarding'">
    <h1 class="mat-headline">{{ t.headline }}</h1>
    <div fxLayout fxLayoutGap="20px" *ngIf="(hasFiles$ | async) !== undefined">
        <dsh-card fxFlex fxLayout="column">
            <dsh-card-title class="mat-title" fxLayout="row" fxLayoutAlign="space-between">
                {{ t.documentUpload.title }}
                <div *ngIf="isClaimUpdating$ | async" fxLayout fxLayoutAlign="center center">
                    <dsh-spinner [type]="spinnerType" size="30"></dsh-spinner>
                </div>
            </dsh-card-title>
            <dsh-card-content fxFlex="initial" fxLayout="column" fxLayoutGap="20px">
                <div fxFlex="initial" fxLayout="column" fxLayoutGap="10px">
                    <div class="mat-body-2">{{ t.documentUpload.requiredDocs }}:</div>
                    <div class="mat-body-1">
                        - {{ t.documentUpload.passport }};<br />
                        - {{ t.documentUpload.registration }}.
                    </div>
                </div>
                <div fxFlex="initial" fxLayout="column" fxLayoutGap="10px">
                    <div class="mat-body-2">{{ t.documentUpload.uploadedDocs }}:</div>
                    <div *ngIf="hasFiles$ | async; else noFiles" fxLayout="column" fxLayoutGap="10px">
                        <div *ngIf="((filesData$ | async) || []).length; else emptyFilesData">
                            <dsh-file-item *ngFor="let file of filesData$ | async" [file]="file"></dsh-file-item>
                        </div>
                        <ng-template #emptyFilesData>
                            <div
                                *ngIf="isFilesLoading$ | async; else filesNotUploaded"
                                fxLayout
                                fxLayoutAlign="center center"
                            >
                                <dsh-spinner [type]="spinnerType" size="30"></dsh-spinner>
                            </div>
                            <ng-template #filesNotUploaded>
                                <div>{{ t.documentUpload.filesNotUploaded }}</div>
                            </ng-template>
                        </ng-template>
                    </div>
                    <ng-template #noFiles>
                        <div>{{ t.documentUpload.noDocs }}</div>
                    </ng-template>
                </div>
                <dsh-file-uploader (uploadedFilesIds$)="updateClaim$.next($event)"></dsh-file-uploader>
                <div fxLayout="row" fxLayoutAlign="space-between" *transloco="let c">
                    <button fxFlex="100px" dsh-button (click)="cancel()">{{ c.cancel }}</button>
                    <button fxFlex="100px" dsh-button color="accent" (click)="done()">{{ c.done }}</button>
                </div>
            </dsh-card-content>
        </dsh-card>
    </div>
</div>
