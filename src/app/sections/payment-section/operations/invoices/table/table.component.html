<div *transloco="let t; scope: 'operations'; read: 'operations.invoices.table'" class="table-container">
    <table dshTable [dataSource]="data">
        <ng-container dshColumnDef="invoiceID">
            <th dshHeaderCell fxFlex="130px" *dshHeaderCellDef>
                {{ t('invoiceID') }}
            </th>
            <td dshCell fxFlex="130px" *dshCellDef="let element">
                {{ element.invoiceID }}
            </td>
        </ng-container>

        <ng-container dshColumnDef="product">
            <th dshHeaderCell fxFlex *dshHeaderCellDef>
                {{ t('product') }}
            </th>
            <td dshCell *dshCellDef="let element">
                <span class="truncate">{{ element.product }}</span>
            </td>
        </ng-container>

        <ng-container dshColumnDef="amount">
            <th dshHeaderCell *dshHeaderCellDef>
                {{ t('amount') }}
            </th>
            <td dshCell *dshCellDef="let element">
                {{ element.amount | toMajor | currency: element.currency }}
            </td>
        </ng-container>

        <ng-container dshColumnDef="status">
            <th dshHeaderCell fxFlex="130px" *dshHeaderCellDef>
                {{ t('status') }}
            </th>
            <td dshCell fxFlex="130px" *dshCellDef="let element">
                <dsh-status *transloco="let c" [color]="element.status | invoiceStatusColor">{{
                    c('invoiceStatus.' + element.status)
                }}</dsh-status>
            </td>
        </ng-container>

        <ng-container dshColumnDef="createdAt">
            <th dshHeaderCell fxFlex="130px" *dshHeaderCellDef>
                {{ t('createdAt') }}
            </th>
            <td dshCell fxFlex="130px" *dshCellDef="let element">
                {{ element.createdAt | date: 'dd.MM.yyyy, HH:mm' }}
            </td>
        </ng-container>

        <ng-container dshColumnDef="shop">
            <th dshHeaderCell *dshHeaderCellDef>{{ t('shop') }}</th>
            <td dshCell *dshCellDef="let element">
                <span class="truncate">{{ element.shopName }}</span>
            </td>
        </ng-container>

        <ng-container dshColumnDef="actions">
            <th dshHeaderCell fxFlex="42px" *dshHeaderCellDef></th>
            <td dshCell fxFlex="42px" *dshCellDef="let element">
                <button dsh-icon-button [matMenuTriggerFor]="menu">
                    <mat-icon svgIcon="more_vert"></mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                    <button mat-menu-item (click)="goToInvoiceDetails(element)">
                        {{ t('actions.invoiceDetails') }}
                    </button>
                </mat-menu>
            </td>
        </ng-container>

        <tr dsh-header-row *dshHeaderRowDef="displayedColumns"></tr>
        <tr dsh-table-row *dshRowDef="let row; columns: displayedColumns"></tr>
    </table>
</div>
