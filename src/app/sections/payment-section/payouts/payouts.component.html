<dsh-scroll-up></dsh-scroll-up>
<div
    class="dsh-payouts"
    *transloco="let p; scope: 'payouts'; read: 'payouts.payouts'"
    fxLayout="column"
    fxLayoutGap="20px"
>
    <h1 class="mat-display-1" *transloco="let title; scope: 'payouts'; read: 'payouts.title'">{{ title }}</h1>
    <div fxFlex class="mat-body-1">
        {{ p.description }}
    </div>
    <dsh-payouts-search-form></dsh-payouts-search-form>
    <ng-container *ngIf="!(isInit$ | async)">
        <dsh-payout-panel-accordion fxLayout="column" fxLayoutGap="20px" (expanded)="expand($event)">
            <dsh-payout-panel
                *ngFor="let payout of payouts$ | async"
                [payout]="payout"
                (click)="select(payout.id)"
            ></dsh-payout-panel>
        </dsh-payout-panel-accordion>
        <dsh-show-more-panel
            *ngIf="hasMore$ | async"
            [disabled]="isLoading$ | async"
            (showMoreEvent)="fetchMore()"
            [isLoading]="isLoading$ | async"
        >
        </dsh-show-more-panel>
        <div *ngIf="!(payouts$ | async)?.length && !(doAction$ | async)" class="mat-headline dsh-payouts-empty">
            <ng-container *transloco="let t">
                {{ t.emptySearchResult }}
            </ng-container>
        </div>
    </ng-container>
    <div *ngIf="isInit$ | async" fxLayout fxFlexAlign="center">
        <dsh-spinner></dsh-spinner>
    </div>
</div>
