<div *transloco="let t; scope: 'reports'; read: 'reports.columns'" class="table-container">
    <table dshTable [dataSource]="reports">
        <ng-container dshColumnDef="formationType" *transloco="let type; scope: 'reports'; read: 'reports.type'">
            <th dshHeaderCell *dshHeaderCellDef>
                {{ t.type }}
            </th>
            <td dshCell *dshCellDef="let e">
                {{ type[e.reportType] }}
            </td>
        </ng-container>
        <ng-container dshColumnDef="createdAt">
            <th dshHeaderCell *dshHeaderCellDef>
                {{ t.createdAt }}
            </th>
            <td dshCell *dshCellDef="let e">
                {{ e.createdAt | date: 'dd MMMM yyyy, HH:mm' }}
            </td>
        </ng-container>
        <ng-container dshColumnDef="status">
            <th dshHeaderCell *dshHeaderCellDef>
                {{ t.status }}
            </th>
            <td dshCell *dshCellDef="let e">
                <dsh-status
                    *transloco="let s; scope: 'reports'; read: 'reports.status'"
                    [color]="mapStatusToStatusColor[e.status]"
                >
                    {{ s[e.status] }}
                </dsh-status>
            </td>
        </ng-container>
        <ng-container dshColumnDef="period">
            <th dshHeaderCell *dshHeaderCellDef>
                {{ t.period }}
            </th>
            <td dshCell *dshCellDef="let e">
                {{ e.fromTime | date: 'dd MMMM yyyy' }} - {{ e.toTime | date: 'dd MMMM yyyy' }}
            </td>
        </ng-container>
        <ng-container dshColumnDef="actions">
            <th dshHeaderCell *dshHeaderCellDef fxFlex="42px"></th>
            <td dshCell *dshCellDef="let e" fxFlex="42px">
                <button dsh-icon-button [dshDropdownTriggerFor]="paymentDetailsDropdown">
                    <mat-icon>more_vert</mat-icon>
                </button>
                <dsh-dropdown #paymentDetailsDropdown="dshDropdown">
                    <dsh-dropdown-actions>
                        <dsh-state-nav flat>
                            <dsh-state-nav-item>
                                {{ t.actions.downloadAllDocuments | translocoParams: { count: 0 } }}
                            </dsh-state-nav-item>
                            <dsh-state-nav-item>{{ t.actions.details }}</dsh-state-nav-item>
                        </dsh-state-nav>
                    </dsh-dropdown-actions>
                </dsh-dropdown>
            </td>
        </ng-container>

        <tr dsh-header-row *dshHeaderRowDef="displayedColumns"></tr>
        <tr dsh-row *dshRowDef="let row; columns: displayedColumns"></tr>
    </table>
</div>
