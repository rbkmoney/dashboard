<dsh-expand-panel-accordion
    fxLayout="column"
    fxLayoutGap="20px"
    (expandedChange)="select($event)"
    [expanded]="selectedId$ | async"
>
    <dsh-expand-panel *ngFor="let report of reports">
        <div fxLayout="column" fxLayoutGap="20px">
            <div class="mat-body-1">
                {{ report.fromTime | date: 'dd MMMM yyyy' }} - {{ report.toTime | date: 'dd MMMM yyyy' }}
            </div>
            <div class="mat-caption" fxLayout fxLayoutAlign="space-between" fxLayoutGap="10px">
                <div>{{ (getShopInfo(report.shopID) | async)?.name }}</div>
                <div *transloco="let s; scope: 'reports'; read: 'reports'">{{ s.status[report.status] }}</div>
            </div>
        </div>
        <dsh-expand-panel-more>
            <dsh-expand-panel-more-header>
                <div
                    *transloco="let t; scope: 'report'; read: 'report'"
                    fxFlex
                    fxLayoutAlign="space-between center"
                    fxLayoutGap="10px"
                >
                    <div class="mat-caption">{{ t.report }} #{{ report.id }}</div>
                    <div *transloco="let s; scope: 'reports'; read: 'reports'" class="mat-caption">
                        {{ s.status[report.status] }}
                    </div>
                </div>
            </dsh-expand-panel-more-header>

            <div *transloco="let t; scope: 'report'; read: 'report'" fxLayout="column" fxLayoutGap="20px">
                <div fxLayout fxLayout.sm="column" fxLayoutGap="10px">
                    <dsh-details-item
                        *transloco="let s; scope: 'reports'; read: 'reports'"
                        fxFlex
                        [title]="t.details.type"
                        >{{ s.type[report.reportType] }}</dsh-details-item
                    >
                    <dsh-details-item fxFlex [title]="t.details.createdAt">{{
                        report.createdAt | date: 'dd MMMM yyyy, HH:mm'
                    }}</dsh-details-item>
                </div>
                <div fxLayout fxLayout.sm="column" fxLayoutGap="10px">
                    <dsh-details-item fxFlex [title]="t.details.fromTime">{{
                        report.fromTime | date: 'dd MMMM yyyy, HH:mm'
                    }}</dsh-details-item>
                    <dsh-details-item fxFlex [title]="t.details.toTime">{{
                        report.toTime | date: 'dd MMMM yyyy, HH:mm'
                    }}</dsh-details-item>
                </div>
                <dsh-details-item [title]="t.details.shop">{{
                    (getShopInfo(report.shopID) | async)?.name
                }}</dsh-details-item>
                <mat-divider></mat-divider>
                <dsh-files [files]="report.files" [reportID]="report.id"></dsh-files>
            </div>
        </dsh-expand-panel-more>
    </dsh-expand-panel>
</dsh-expand-panel-accordion>
